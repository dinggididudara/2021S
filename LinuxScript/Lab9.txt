#! /bash/shell

#Lab9
#Soomin 040899389
#CST8102_302
#mycalc.sh
#30-July-2021
#description: fuctions that operate add and subtract

function add() {  #function for addition 
     add=`expr $a + $b`
     echo "The Sum of $a plus $b equals $add"
}

function substract() {   #function for subtraction
     if [[ $a > $b ]]
     then
        sub=`expr $a - $b`
     else
        sub=`expr $b - $a`
     fi
        echo "The Subtraction of $a minus $b equlas $sub"
}


menu1=n   #initialize for until-loop
until [[ $menu1 == 'x' ]] || [[ $menu == 'X' ]] || [[ $menu2 == 'x' ]] || [[ $menu2 == 'X' ]] || [[ $menu3 == 'x' ]] || [[ $menu3 == 'X' ]]
do

echo -e "C) Calculation \nX) Exit"  #menu 1
read menu1
if [[ $menu1 == 'c' ]] || [[ $menu1 == 'C' ]]
then
        clear
        echo -n "Please enter an integer number or X to exit: "    #menu 2
        read a b c
        if [[ -n "$a" ]] && [[ -n "$b" ]] && [[ -z "$c" ]]
        then
                echo -e "+) Add \n-) Subtract \nX) Exit"  #menu 3
	read menu3
                case $menu3 in
                        '+')
                           clear
                           add $a $b
                           exit ;;
                        '-')
                           clear
                           substract $a $b
                           exit ;;
                        x|X)
                           echo "Exit now"
                           exit ;;
                        *)
                           echo "Error. Please try again!"
                           continue ;;
                 esac   #menu 3 end
         elif [[ $a == 'x' ]] || [[ $a == 'X' ]]
         then
	echo "Exit now"
                 exit
       else
                  echo "Invalid input. Please try again"
                  continue;
        fi    #menu 2 end
elif [[ $menu1 == 'x' ]] || [[ $menu1 == 'X' ]]  #if user enters exit
then
        echo "Exit now"
        exit
else    #if other inputs (invalid)
        echo "Invalid input. Please try again!"
        continue
fi

done   #while-loop end 